{"version":3,"sources":["webpack:///main.05457a65a618ceec20b3.bundle.js","webpack:///./src/app/service/http.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/log-chart/intersection.ts","webpack:///./src/app/log-chart/log-chart.component.ts","webpack:///./src/app/log-chart/log-item.ts","webpack:///./src/environments/environment.prod.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/log-chart/log-chart.component.html","webpack:///./src ^\\.\\/.*$"],"names":["webpackJsonp","225","module","exports","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__angular_core__","__WEBPACK_IMPORTED_MODULE_1__angular_http__","__WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__","n","d","HttpService","__decorate","this","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","jsonp","logItemsChanged","logItems","apiUrl","prototype","getLogs","_this","headers","append","questionMarkIndex","indexOf","additionalSign","get","map","response","json","subscribe","emit","error","console","log","_a","407","webpackEmptyContext","req","Error","keys","resolve","id","408","__WEBPACK_IMPORTED_MODULE_0__polyfills_ts__","__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__","__WEBPACK_IMPORTED_MODULE_2__angular_core__","__WEBPACK_IMPORTED_MODULE_3__environments_environment__","__WEBPACK_IMPORTED_MODULE_4__app_app_module__","production","bootstrapModule","514","__WEBPACK_IMPORTED_MODULE_1__service_http_service__","AppComponent","httpService","ngOnInit","onResize","event","selector","template","styles","515","__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","__WEBPACK_IMPORTED_MODULE_2__angular_forms__","__WEBPACK_IMPORTED_MODULE_3__angular_http__","__WEBPACK_IMPORTED_MODULE_4__app_component__","__WEBPACK_IMPORTED_MODULE_5__service_http_service__","__WEBPACK_IMPORTED_MODULE_6__log_chart_log_chart_component__","__WEBPACK_IMPORTED_MODULE_7_angular2_highcharts__","__WEBPACK_IMPORTED_MODULE_8_ng2_datetime_picker__","AppModule","declarations","imports","providers","bootstrap","516","Intersection","dateTime","count","517","__WEBPACK_IMPORTED_MODULE_2_moment__","__WEBPACK_IMPORTED_MODULE_3__log_item__","__WEBPACK_IMPORTED_MODULE_4_lodash__","__WEBPACK_IMPORTED_MODULE_5__intersection__","LogChartComponent","chartSeries","maxCarsCount","filterDateStart","filterDateEnd","showSpinner","redrawChart","model","onSubmit","form","value","filterResults","minLogItem","maxLogItem","toString","format","processLogs","clearFilers","item","arrivalTimeSeconds","ArrivalTime","unix","leaveTimeSeconds","LeaveTime","o","ms","diff","duration","minutes","asMinutes","totalIntersections","_loop_1","compareToTimeStart","add","this_1","push","maxValue","undefined","setChartOptions","options","type","chart","zoomType","xAxis","title","text","ordinal","yAxis","series","name","data","518","LogItem","Id","519","environment","520","__WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__","__WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__","__WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__","__WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__","__WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__","__WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__","__WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__","__WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__","__WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__","__WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__","__WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__","__WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__","__WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__","__WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__","__WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__","__WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__","687","688","689","964","965"],"mappings":"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","file":"main.05457a65a618ceec20b3.bundle.js","sourcesContent":["webpackJsonp([0,3],{\n\n/***/ 225:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(316);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__(691);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return HttpService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nvar HttpService = (function () {\r\n    function HttpService(jsonp) {\r\n        this.jsonp = jsonp;\r\n        this.logItemsChanged = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n        this.logItems = [];\r\n        this.apiUrl = 'https://parkingapi.gear.host/v1/parking';\r\n    }\r\n    HttpService.prototype.getLogs = function () {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"a\" /* Headers */]();\r\n        headers.append('Content-Type', 'application/json');\r\n        var questionMarkIndex = this.apiUrl.indexOf('?');\r\n        var additionalSign = questionMarkIndex > 0 ? '&' : '?';\r\n        this.jsonp.get(this.apiUrl + additionalSign + 'callback=JSONP_CALLBACK')\r\n            .map(function (response) { return response.json(); })\r\n            .subscribe(function (logItems) {\r\n            _this.logItems = logItems;\r\n            _this.logItemsChanged.emit(_this.logItems);\r\n        }, function (error) {\r\n            console.log(error);\r\n        });\r\n    };\r\n    HttpService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"b\" /* Jsonp */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"b\" /* Jsonp */]) === 'function' && _a) || Object])\r\n    ], HttpService);\r\n    return HttpService;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/dev/parking/src/http.service.js.map\n\n/***/ },\n\n/***/ 407:\n/***/ function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 407;\n\n\n/***/ },\n\n/***/ 408:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts__ = __webpack_require__(520);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__polyfills_ts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__(494);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__(519);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_app_module__ = __webpack_require__(515);\n\r\n\r\n\r\n\r\n\r\nif (__WEBPACK_IMPORTED_MODULE_3__environments_environment__[\"a\" /* environment */].production) {\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"enableProdMode\"])();\r\n}\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__[\"a\" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_4__app_app_module__[\"a\" /* AppModule */]);\r\n//# sourceMappingURL=C:/dev/parking/src/main.js.map\n\n/***/ },\n\n/***/ 514:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_http_service__ = __webpack_require__(225);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AppComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\nvar AppComponent = (function () {\r\n    function AppComponent(httpService) {\r\n        this.httpService = httpService;\r\n    }\r\n    AppComponent.prototype.ngOnInit = function () {\r\n        this.httpService.getLogs();\r\n    };\r\n    AppComponent.prototype.onResize = function (event) {\r\n    };\r\n    AppComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-root',\r\n            template: __webpack_require__(688),\r\n            styles: [__webpack_require__(687)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_http_service__[\"a\" /* HttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__service_http_service__[\"a\" /* HttpService */]) === 'function' && _a) || Object])\r\n    ], AppComponent);\r\n    return AppComponent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/dev/parking/src/app.component.js.map\n\n/***/ },\n\n/***/ 515:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(206);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__(316);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_component__ = __webpack_require__(514);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__service_http_service__ = __webpack_require__(225);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__log_chart_log_chart_component__ = __webpack_require__(517);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_angular2_highcharts__ = __webpack_require__(529);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_angular2_highcharts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_angular2_highcharts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ng2_datetime_picker__ = __webpack_require__(684);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ng2_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_ng2_datetime_picker__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AppModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgModule\"])({\r\n            declarations: [\r\n                __WEBPACK_IMPORTED_MODULE_4__app_component__[\"a\" /* AppComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_6__log_chart_log_chart_component__[\"a\" /* LogChartComponent */]\r\n            ],\r\n            imports: [\r\n                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__[\"b\" /* BrowserModule */],\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"FormsModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_3__angular_http__[\"c\" /* HttpModule */],\r\n                __WEBPACK_IMPORTED_MODULE_3__angular_http__[\"d\" /* JsonpModule */],\r\n                __WEBPACK_IMPORTED_MODULE_7_angular2_highcharts__[\"ChartModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_8_ng2_datetime_picker__[\"Ng2DatetimePickerModule\"]\r\n            ],\r\n            providers: [__WEBPACK_IMPORTED_MODULE_5__service_http_service__[\"a\" /* HttpService */]],\r\n            bootstrap: [__WEBPACK_IMPORTED_MODULE_4__app_component__[\"a\" /* AppComponent */]]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\n//# sourceMappingURL=C:/dev/parking/src/app.module.js.map\n\n/***/ },\n\n/***/ 516:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Intersection; });\nvar Intersection = (function () {\r\n    function Intersection(dateTime, count) {\r\n        this.dateTime = dateTime;\r\n        this.count = count;\r\n    }\r\n    return Intersection;\r\n}());\r\n//# sourceMappingURL=C:/dev/parking/src/intersection.js.map\n\n/***/ },\n\n/***/ 517:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_http_service__ = __webpack_require__(225);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(683);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__log_item__ = __webpack_require__(518);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash__ = __webpack_require__(682);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__intersection__ = __webpack_require__(516);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return LogChartComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar LogChartComponent = (function () {\r\n    function LogChartComponent(httpService) {\r\n        var _this = this;\r\n        this.httpService = httpService;\r\n        this.logItems = [];\r\n        this.chartSeries = [];\r\n        this.maxCarsCount = new __WEBPACK_IMPORTED_MODULE_5__intersection__[\"a\" /* Intersection */]('', 0);\r\n        this.filterDateStart = \"\";\r\n        this.filterDateEnd = \"\";\r\n        this.showSpinner = false;\r\n        this.httpService.logItemsChanged.subscribe(function (logItems) { return _this.redrawChart(logItems); });\r\n        this.model = {\r\n            apiUrl: this.httpService.apiUrl\r\n        };\r\n    }\r\n    LogChartComponent.prototype.onSubmit = function (form) {\r\n        this.showSpinner = true;\r\n        this.httpService.apiUrl = form.value.apiUrl;\r\n        this.httpService.getLogs();\r\n        this.filterDateStart = '';\r\n        this.filterDateEnd = '';\r\n    };\r\n    LogChartComponent.prototype.filterResults = function () {\r\n        var minLogItem = this.minLogItem;\r\n        var maxLogItem = this.maxLogItem;\r\n        if (this.filterDateStart !== '') {\r\n            minLogItem = new __WEBPACK_IMPORTED_MODULE_3__log_item__[\"a\" /* LogItem */](0, __WEBPACK_IMPORTED_MODULE_2_moment__[\"utc\"](this.filterDateStart.toString()).format(), \"\");\r\n        }\r\n        if (this.filterDateEnd !== '') {\r\n            maxLogItem = new __WEBPACK_IMPORTED_MODULE_3__log_item__[\"a\" /* LogItem */](0, \"\", __WEBPACK_IMPORTED_MODULE_2_moment__[\"utc\"](this.filterDateEnd.toString()).format());\r\n        }\r\n        this.processLogs(minLogItem, maxLogItem);\r\n    };\r\n    LogChartComponent.prototype.clearFilers = function () {\r\n        this.processLogs(this.minLogItem, this.maxLogItem);\r\n        this.filterDateStart = '';\r\n        this.filterDateEnd = '';\r\n    };\r\n    LogChartComponent.prototype.redrawChart = function (logItems) {\r\n        this.logItems = logItems;\r\n        __WEBPACK_IMPORTED_MODULE_4_lodash__[\"forEach\"](this.logItems, function (item, key) {\r\n            item.arrivalTimeSeconds = __WEBPACK_IMPORTED_MODULE_2_moment__(item.ArrivalTime).unix();\r\n            item.leaveTimeSeconds = __WEBPACK_IMPORTED_MODULE_2_moment__(item.LeaveTime).unix();\r\n        });\r\n        this.logItems = __WEBPACK_IMPORTED_MODULE_4_lodash__[\"sortBy\"](this.logItems, 'ArrivalTimeSeconds');\r\n        this.minLogItem = __WEBPACK_IMPORTED_MODULE_4_lodash__[\"minBy\"](this.logItems, function (o) {\r\n            return o.ArrivalTime;\r\n        });\r\n        this.maxLogItem = __WEBPACK_IMPORTED_MODULE_4_lodash__[\"maxBy\"](this.logItems, function (o) {\r\n            return o.LeaveTime;\r\n        });\r\n        this.processLogs(this.minLogItem, this.maxLogItem);\r\n    };\r\n    LogChartComponent.prototype.processLogs = function (minLogItem, maxLogItem) {\r\n        this.chartSeries = [];\r\n        var ms = __WEBPACK_IMPORTED_MODULE_2_moment__(maxLogItem.LeaveTime).diff(minLogItem.ArrivalTime);\r\n        var duration = __WEBPACK_IMPORTED_MODULE_2_moment__[\"duration\"](ms);\r\n        var minutes = duration.asMinutes();\r\n        var totalIntersections = [];\r\n        var _loop_1 = function(i) {\r\n            var compareToTimeStart = __WEBPACK_IMPORTED_MODULE_2_moment__(minLogItem.ArrivalTime).add(i, \"minutes\").unix();\r\n            totalIntersections[i] = {\r\n                count: 0,\r\n                dateTime: compareToTimeStart\r\n            };\r\n            __WEBPACK_IMPORTED_MODULE_4_lodash__[\"forEach\"](this_1.logItems, function (item, key) {\r\n                if (item.arrivalTimeSeconds <= compareToTimeStart && item.leaveTimeSeconds >= compareToTimeStart) {\r\n                    totalIntersections[i].count = totalIntersections[i].count + 1;\r\n                }\r\n            });\r\n            if (totalIntersections[i].count > 0 && (i >= 1 && totalIntersections[i].count != totalIntersections[i - 1].count)) {\r\n                this_1.chartSeries.push([compareToTimeStart * 1000, totalIntersections[i].count]);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i <= minutes; i++) {\r\n            _loop_1(i);\r\n        }\r\n        var maxValue = __WEBPACK_IMPORTED_MODULE_4_lodash__[\"maxBy\"](totalIntersections, function (o) {\r\n            return o[\"count\"];\r\n        });\r\n        if (maxValue === undefined) {\r\n            this.maxCarsCount = new __WEBPACK_IMPORTED_MODULE_5__intersection__[\"a\" /* Intersection */]('', 0);\r\n        }\r\n        else {\r\n            this.maxCarsCount = new __WEBPACK_IMPORTED_MODULE_5__intersection__[\"a\" /* Intersection */](__WEBPACK_IMPORTED_MODULE_2_moment__[\"utc\"](maxValue['dateTime'] * 1000).format('DD/MM/YYYY HH:mm'), maxValue['count']);\r\n        }\r\n        this.setChartOptions();\r\n    };\r\n    LogChartComponent.prototype.setChartOptions = function () {\r\n        this.options = {\r\n            type: 'linear',\r\n            chart: { zoomType: 'x' },\r\n            xAxis: [{\r\n                    title: {\r\n                        text: 'Time'\r\n                    },\r\n                    type: 'datetime',\r\n                    ordinal: false\r\n                }],\r\n            yAxis: [{\r\n                    title: {\r\n                        text: 'Cars'\r\n                    }\r\n                }],\r\n            title: { text: 'Parking history' },\r\n            series: [\r\n                { name: 'history log', data: this.chartSeries }\r\n            ]\r\n        };\r\n        this.showSpinner = false;\r\n    };\r\n    LogChartComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'log-chart',\r\n            template: __webpack_require__(689),\r\n            styles: [\"\\n        .row {\\n            margin-top: 10px;\\n        }\\n        \\n        chart {\\n            display: block;\\n        }\\n        \\n        .loading {\\n            width: 40px;\\n            height: 40px;\\n            background: url('../../assets/spin.gif') 0 0 no-repeat;\\n        }\\n    \"]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__service_http_service__[\"a\" /* HttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__service_http_service__[\"a\" /* HttpService */]) === 'function' && _a) || Object])\r\n    ], LogChartComponent);\r\n    return LogChartComponent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/dev/parking/src/log-chart.component.js.map\n\n/***/ },\n\n/***/ 518:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return LogItem; });\nvar LogItem = (function () {\r\n    function LogItem(Id, ArrivalTime, LeaveTime) {\r\n        this.Id = Id;\r\n        this.ArrivalTime = ArrivalTime;\r\n        this.LeaveTime = LeaveTime;\r\n    }\r\n    return LogItem;\r\n}());\r\n//# sourceMappingURL=C:/dev/parking/src/log-item.js.map\n\n/***/ },\n\n/***/ 519:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return environment; });\nvar environment = {\r\n    production: true\r\n};\r\n//# sourceMappingURL=C:/dev/parking/src/environment.prod.js.map\n\n/***/ },\n\n/***/ 520:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__ = __webpack_require__(543);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__ = __webpack_require__(536);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es6_object___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__ = __webpack_require__(532);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_es6_function___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__ = __webpack_require__(538);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__ = __webpack_require__(537);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__ = __webpack_require__(535);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_es6_number___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__ = __webpack_require__(534);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_es6_math___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__ = __webpack_require__(542);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_es6_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__ = __webpack_require__(531);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_es6_date___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__ = __webpack_require__(530);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_es6_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__ = __webpack_require__(540);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__ = __webpack_require__(533);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_es6_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__ = __webpack_require__(541);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_es6_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__ = __webpack_require__(539);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__ = __webpack_require__(544);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__ = __webpack_require__(963);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceMappingURL=C:/dev/parking/src/polyfills.js.map\n\n/***/ },\n\n/***/ 687:\n/***/ function(module, exports) {\n\nmodule.exports = \".container{\\r\\n    margin-top:50px;\\r\\n}\"\n\n/***/ },\n\n/***/ 688:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"container\\\" (window:resize)=\\\"onResize($event)\\\">\\n    <log-chart>Loading...</log-chart>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 689:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"row\\\">\\n    <form (ngSubmit)=\\\"onSubmit(f)\\\" #f=\\\"ngForm\\\">\\n        <div class=\\\"col-sm-8\\\">\\n            <div class=\\\"form-group\\\">\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"model.apiUrl\\\" name=\\\"apiUrl\\\" />\\n            </div>\\n        </div>\\n        <div class=\\\"col-sm-2\\\">\\n            <div class=\\\"form-group\\\">\\n                <button class=\\\"btn btn-primary form-control\\\">Get data</button>\\n            </div>\\n        </div>\\n        <div class=\\\"col-sm-1\\\">\\n            <div class=\\\"loading\\\" [ngClass]=\\\"{'hide': !showSpinner}\\\"></div>\\n        </div>\\n    </form>\\n</div>\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-sm-8\\\">\\n        <chart [options]=\\\"options\\\"></chart>\\n    </div>\\n    <div class=\\\"col-sm-4 col-xs-12\\\">\\n        <h3>Select Date/Time Range</h3>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-12\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label>Start datetime</label>\\n                    <input [(ngModel)]=\\\"filterDateStart\\\" ng2-datetime-picker\\n                           date-format=\\\"DD-MM-YYYY hh:mm\\\"\\n                           hour=\\\"23\\\"\\n                           minute='59'\\n                           close-on-select=\\\"false\\\"\\n                           class=\\\"form-control\\\" />\\n                </div>\\n            </div>\\n            <div class=\\\"col-sm-12\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label>End datetime</label>\\n                    <input [(ngModel)]=\\\"filterDateEnd\\\" ng2-datetime-picker\\n                           date-format=\\\"DD-MM-YYYY hh:mm\\\"\\n                           hour=\\\"23\\\"\\n                           minute='59'\\n                           close-on-select=\\\"false\\\"\\n                           class=\\\"form-control\\\" />\\n                </div>\\n            </div>\\n            <div class=\\\"col-sm-12\\\">\\n                <div class=\\\"form-group\\\">\\n                    <button class=\\\"btn btn-primary\\\" (click)=\\\"filterResults()\\\">Apply filters</button>\\n                    <button class=\\\"btn btn-secondary\\\" (click)=\\\"clearFilers()\\\">Clear filters</button>\\n                </div>\\n            </div>\\n        </div>\\n        <p>Max cars count: {{maxCarsCount.count}} </p>\\n        <p>On {{maxCarsCount.dateTime}}</p>\\n    </div>\\n</div>\\n\\n\"\n\n/***/ },\n\n/***/ 964:\n/***/ function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 964;\n\n\n/***/ },\n\n/***/ 965:\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(408);\n\n\n/***/ }\n\n},[965]);\n\n\n// WEBPACK FOOTER //\n// main.05457a65a618ceec20b3.bundle.js","import {Injectable, EventEmitter} from '@angular/core';\nimport {Response, Headers, Jsonp} from \"@angular/http\";\nimport 'rxjs/Rx';\nimport {LogItem} from \"../log-chart/log-item\";\n\n@Injectable()\nexport class HttpService {\n    logItemsChanged = new EventEmitter<LogItem[]>();\n    logItems: LogItem[] = [];\n    public apiUrl = 'https://parkingapi.gear.host/v1/parking';\n\n    constructor(private jsonp: Jsonp) {\n    }\n\n    getLogs() {\n        const headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        let questionMarkIndex = this.apiUrl.indexOf('?');\n        let additionalSign = questionMarkIndex > 0 ? '&' : '?';\n        this.jsonp.get(this.apiUrl + additionalSign + 'callback=JSONP_CALLBACK')\n            .map((response: Response) => response.json())\n            .subscribe(\n                (logItems: LogItem[]) => {\n                    this.logItems = logItems;\n                    this.logItemsChanged.emit(this.logItems);\n                },\n                error => {\n                    console.log(error);\n                }\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/service/http.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 407;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 407\n// module chunks = 0","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component, OnInit, EventEmitter} from '@angular/core';\nimport {HttpService} from \"./service/http.service\";\nimport {LogItem} from \"./log-chart/log-item\";\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n    constructor(private httpService: HttpService) {\n    }\n\n    ngOnInit() {\n        this.httpService.getLogs();\n    }\n\n    onResize(event) {\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {HttpModule, JsonpModule} from '@angular/http';\n\nimport {AppComponent} from './app.component';\nimport {HttpService} from \"./service/http.service\";\nimport {LogChartComponent} from './log-chart/log-chart.component';\nimport { ChartModule } from 'angular2-highcharts';\nimport {Ng2DatetimePickerModule} from \"ng2-datetime-picker\";\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        LogChartComponent\n    ],\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        JsonpModule,\n        ChartModule,\n        Ng2DatetimePickerModule\n    ],\n    providers: [HttpService],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export class Intersection {\n    constructor(private dateTime: string, private count: Number) {\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/log-chart/intersection.ts","import {Component} from '@angular/core';\nimport {HttpService} from \"../service/http.service\";\nimport * as moment from 'moment';\nimport {LogItem} from \"./log-item\";\nimport * as _ from \"lodash\";\nimport {Intersection} from \"./intersection\";\nimport {NgForm} from \"@angular/forms\";\n\n@Component({\n    selector: 'log-chart',\n    templateUrl: './log-chart.component.html',\n    styles: [`\n        .row {\n            margin-top: 10px;\n        }\n        \n        chart {\n            display: block;\n        }\n        \n        .loading {\n            width: 40px;\n            height: 40px;\n            background: url('../../assets/spin.gif') 0 0 no-repeat;\n        }\n    `]\n})\nexport class LogChartComponent {\n    logItems: LogItem[] = [];\n    options: Object;\n    chartSeries: any[] = [];\n    maxCarsCount: Intersection = new Intersection('', 0);\n    model: Object;\n    filterDateStart: any = \"\";\n    filterDateEnd: any = \"\";\n    minLogItem: LogItem;\n    maxLogItem: LogItem;\n    showSpinner = false;\n\n\n    constructor(private httpService: HttpService) {\n        this.httpService.logItemsChanged.subscribe(\n            (logItems: LogItem[]) => this.redrawChart(logItems)\n        );\n        this.model = {\n            apiUrl: this.httpService.apiUrl\n        };\n    }\n\n    onSubmit(form: NgForm) {\n        this.showSpinner = true;\n        this.httpService.apiUrl = form.value.apiUrl;\n        this.httpService.getLogs();\n        this.filterDateStart = '';\n        this.filterDateEnd = '';\n    }\n\n    filterResults() {\n        let minLogItem = this.minLogItem;\n        let maxLogItem = this.maxLogItem;\n        if (this.filterDateStart !== '') {\n            minLogItem = new LogItem(0, moment.utc(this.filterDateStart.toString()).format(), \"\");\n        }\n        if (this.filterDateEnd !== '') {\n            maxLogItem = new LogItem(0, \"\", moment.utc(this.filterDateEnd.toString()).format());\n        }\n        this.processLogs(minLogItem, maxLogItem);\n    }\n\n    clearFilers() {\n        this.processLogs(this.minLogItem, this.maxLogItem);\n        this.filterDateStart = '';\n        this.filterDateEnd = '';\n    }\n\n    redrawChart(logItems: LogItem[]) {\n        this.logItems = logItems;\n        _.forEach(this.logItems, function (item, key) {\n            item.arrivalTimeSeconds = moment(item.ArrivalTime).unix();\n            item.leaveTimeSeconds = moment(item.LeaveTime).unix();\n        });\n        this.logItems = _.sortBy(this.logItems, 'ArrivalTimeSeconds');\n        this.minLogItem = _.minBy(this.logItems, function (o) {\n            return o.ArrivalTime\n        });\n        this.maxLogItem = _.maxBy(this.logItems, function (o) {\n            return o.LeaveTime\n        });\n        this.processLogs(this.minLogItem, this.maxLogItem);\n    }\n\n    processLogs(minLogItem: LogItem, maxLogItem: LogItem) {\n        this.chartSeries = [];\n        let ms = moment(maxLogItem.LeaveTime).diff(minLogItem.ArrivalTime);\n        let duration = moment.duration(ms);\n        let minutes = duration.asMinutes();\n        let totalIntersections = [];\n        for (let i = 0; i <= minutes; i++) {\n            let compareToTimeStart = moment(minLogItem.ArrivalTime).add(i, \"minutes\").unix();\n            totalIntersections[i] = {\n                count: 0,\n                dateTime: compareToTimeStart\n            };\n            _.forEach(this.logItems, function (item, key) {\n                if (item.arrivalTimeSeconds <= compareToTimeStart && item.leaveTimeSeconds >= compareToTimeStart) {\n                    totalIntersections[i].count = totalIntersections[i].count + 1;\n                }\n            });\n            if (totalIntersections[i].count > 0 && (i >= 1 && totalIntersections[i].count != totalIntersections[i - 1].count)) {\n                this.chartSeries.push([compareToTimeStart * 1000, totalIntersections[i].count]);\n            }\n        }\n\n        let maxValue = _.maxBy(totalIntersections, function (o) {\n            return o[\"count\"];\n        });\n        if (maxValue === undefined) {\n            this.maxCarsCount = new Intersection('', 0);\n        } else {\n            this.maxCarsCount = new Intersection(moment.utc(maxValue['dateTime'] * 1000).format('DD/MM/YYYY HH:mm'), maxValue['count']);\n        }\n        this.setChartOptions();\n    }\n\n    setChartOptions() {\n        this.options = {\n            type: 'linear',\n            chart: {zoomType: 'x'},\n            xAxis: [{\n                title: {\n                    text: 'Time'\n                },\n                type: 'datetime',\n                ordinal: false\n            }],\n            yAxis: [{\n                title: {\n                    text: 'Cars'\n                }\n            }],\n            title: {text: 'Parking history'},\n            series: [\n                {name: 'history log', data: this.chartSeries}\n            ]\n        }\n        this.showSpinner = false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/log-chart/log-chart.component.ts","export class LogItem {\n    public arrivalTimeSeconds: Number;\n    public leaveTimeSeconds: Number;\n\n    constructor(private Id: number, public ArrivalTime: string, public LeaveTime: string) {\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/log-chart/log-item.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.prod.ts","module.exports = \".container{\\r\\n    margin-top:50px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 687\n// module chunks = 0","module.exports = \"<div class=\\\"container\\\" (window:resize)=\\\"onResize($event)\\\">\\n    <log-chart>Loading...</log-chart>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 688\n// module chunks = 0","module.exports = \"<div class=\\\"row\\\">\\n    <form (ngSubmit)=\\\"onSubmit(f)\\\" #f=\\\"ngForm\\\">\\n        <div class=\\\"col-sm-8\\\">\\n            <div class=\\\"form-group\\\">\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"model.apiUrl\\\" name=\\\"apiUrl\\\" />\\n            </div>\\n        </div>\\n        <div class=\\\"col-sm-2\\\">\\n            <div class=\\\"form-group\\\">\\n                <button class=\\\"btn btn-primary form-control\\\">Get data</button>\\n            </div>\\n        </div>\\n        <div class=\\\"col-sm-1\\\">\\n            <div class=\\\"loading\\\" [ngClass]=\\\"{'hide': !showSpinner}\\\"></div>\\n        </div>\\n    </form>\\n</div>\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-sm-8\\\">\\n        <chart [options]=\\\"options\\\"></chart>\\n    </div>\\n    <div class=\\\"col-sm-4 col-xs-12\\\">\\n        <h3>Select Date/Time Range</h3>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-sm-12\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label>Start datetime</label>\\n                    <input [(ngModel)]=\\\"filterDateStart\\\" ng2-datetime-picker\\n                           date-format=\\\"DD-MM-YYYY hh:mm\\\"\\n                           hour=\\\"23\\\"\\n                           minute='59'\\n                           close-on-select=\\\"false\\\"\\n                           class=\\\"form-control\\\" />\\n                </div>\\n            </div>\\n            <div class=\\\"col-sm-12\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label>End datetime</label>\\n                    <input [(ngModel)]=\\\"filterDateEnd\\\" ng2-datetime-picker\\n                           date-format=\\\"DD-MM-YYYY hh:mm\\\"\\n                           hour=\\\"23\\\"\\n                           minute='59'\\n                           close-on-select=\\\"false\\\"\\n                           class=\\\"form-control\\\" />\\n                </div>\\n            </div>\\n            <div class=\\\"col-sm-12\\\">\\n                <div class=\\\"form-group\\\">\\n                    <button class=\\\"btn btn-primary\\\" (click)=\\\"filterResults()\\\">Apply filters</button>\\n                    <button class=\\\"btn btn-secondary\\\" (click)=\\\"clearFilers()\\\">Clear filters</button>\\n                </div>\\n            </div>\\n        </div>\\n        <p>Max cars count: {{maxCarsCount.count}} </p>\\n        <p>On {{maxCarsCount.dateTime}}</p>\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/log-chart/log-chart.component.html\n// module id = 689\n// module chunks = 0","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 964;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src ^\\.\\/.*$\n// module id = 964\n// module chunks = 0"],"sourceRoot":""}